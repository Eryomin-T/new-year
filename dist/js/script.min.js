$((function(){setInterval(()=>{!function(t){let e=new Date(1e3*t),i=new Date;i=Math.floor((e-i)/1e3);let s=i%60;s<10&&(s="0"+s),i=Math.floor(i/60);let a=i%60;a<10&&(a="0"+a),i=Math.floor(i/60);let l=i%24;l<10&&(l="0"+l),i=Math.floor(i/24);let n=document.querySelectorAll(".date__item");for(let t=0;t<n.length;t++){let e=n[t].getAttribute("data-time-units"),c=n[t].querySelector(".date__count");"days"===e?i>=0&&(c.innerHTML=i):"hours"===e?l>=0&&(c.innerHTML=l):"minutes"===e?a>=0&&(c.innerHTML=a):"seconds"===e&&s>=0&&(c.innerHTML=s)}}(1613830812)},1e3),function(){let t=$(".slider__top"),e=$(".slider__top .slider__slide"),i=$(".slider__controls .slider__slide"),s=e.width(),a=e.length-1,l=s*a,n=0,c=$(".slider__btn-prev"),d=$(".slider__btn-next"),o=0;function r(){n-=s,$(e[o]).removeClass("active"),$(i[o]).removeClass("active"),o--,o<0&&(o=e.length-1),$(e[o]).addClass("active"),$(i[o]).addClass("active"),n<0?($(t).css({transform:`translateX(${-l}px)`}),n=l):$(t).css({transform:`translateX(${-n}px)`})}function m(){n+=s,$(e[o]).removeClass("active"),$(i[o]).removeClass("active"),o++,o>e.length-1&&(o=0),$(e[o]).addClass("active"),$(i[o]).addClass("active"),n>l?($(t).css({transform:"translateX(0px)"}),n=0):$(t).css({transform:`translateX(${-n}px)`})}$(e[o]).addClass("active"),$(i[o]).addClass("active"),c.on("click",(function(){r()})),d.on("click",(function(){m()})),e.on("touchstart",(function(t){let e=t.changedTouches[0].clientX;$(this).on("touchend",(function(t){let i=t.changedTouches[0].clientX;i<e?m():i>e&&r()}))}))}();let t=$(".sidebar"),e=$(".sidebar__toggle"),i=$(".sidebar__burger");$(e).add(i).on("click",(function(){window.matchMedia("(max-width: 768px)").matches?($(".main").toggleClass("hide"),t.toggleClass("open")):t.toggleClass("open")})),function(){let t=$(".tabs__nav-item"),e=$(".tabs__nav-item.active"),i=$(".tabs__content-item"),s=$(".tabs__content-item.active");t.on("click",(function(){let t=$(this),a=t.index(),l=i.eq(a);e.removeClass("active"),s.removeClass("active"),t.addClass("active"),l.addClass("active"),e=t,s=l}))}();new class{constructor(t){this._$main=document.querySelector(t),this._$trigger=this._$main.querySelector('[data-select="trigger"]'),this._addEventListener()}_isShow(){return this._$main.classList.contains("select_show")}_changeItem(t){if(!t.classList.contains("select__item_selected")){const e=this._$main.querySelector(".select__item_selected");e&&e.classList.remove("select__item_selected"),t.classList.add("select__item_selected")}}_eventHandler(t){let e=t.target,i=e.dataset.select;"trigger"===i?this.toggle():"item"===i?(this._changeItem(e),this.hide()):"backdrop"===i&&this.hide()}_addEventListener(){this._eventHand=this._eventHandler.bind(this),this._$main.addEventListener("click",this._eventHand)}show(){this._$main.classList.add("select_show")}hide(){this._$main.classList.remove("select_show")}toggle(){this._isShow()?this.hide():this.show()}}("#select-1");let s=[{id:1,datePublish:1550125544,video:"https://www.youtube.com/embed/vMdq07Q3qU4",img:"images/master-list-card1.jpg",title:"Скетч от команды “Веселые ребята”",text:"Популярная церемония анонимного обмена подарками. Перед вами сайт для организации онлайн жеребьевки на Тайного Санту."},{id:2,datePublish:1581315944,video:"https://player.vimeo.com/video/265045525",img:"images/master-list-card2.png",title:"Командное выступление в Полуфинале",text:"Популярная церемония анонимного обмена подарками."},{id:3,datePublish:1566714344,video:"https://player.vimeo.com/video/259411563",img:"images/master-list-card3.png",title:"Австрия никогда не хотела и не хочет войны. Она предает нас. Россия одна должна быть спасительницей Европы.",text:"Наш благодетель знает свое высокое призвание и будет верен ему. Вот одно, во что я верю."},{id:4,datePublish:1573107944,video:"https://player.vimeo.com/video/243244233",img:"images/master-list-card1.jpg",title:"Мы одни должны искупить кровь праведника. ",text:"Нашему доброму и чудному государю предстоит величайшая роль в мире, и он так добродетелен и хорош, что Бог не оставит его,"},{id:5,datePublish:1586672744,video:"https://player.vimeo.com/video/243244233",img:"images/master-list-card1.jpg",title:"Она отказалась очистить Мальту.",text:"Англия с своим коммерческим духом не поймет и не может понять всю высоту души императора Александра."},{id:6,datePublish:1613111144,video:"https://www.youtube.com/embed/p-5mhOgSwaY",img:"images/master-list-card1.jpg",title:"Что они сказали Новосильцеву?",text:"Она хочет видеть, ищет заднюю мысль наших действий."},{id:7,datePublish:1567923944,video:"https://player.vimeo.com/video/243244233",img:"images/master-list-card1.jpg",title:"Скетч от команды “Веселые ребята”",text:"Популярная церемония анонимного обмена подарками. Перед вами сайт для организации онлайн жеребьевки на Тайного Санту."},{id:8,datePublish:1549779944,video:"https://player.vimeo.com/video/243244233",img:"images/master-list-card2.png",title:"Командное выступление в Полуфинале",text:"Популярная церемония анонимного обмена подарками."},{id:9,datePublish:1583994344,video:"https://www.youtube.com/embed/oi6e-6PWgiQ",img:"images/master-list-card3.png",title:"Австрия никогда не хотела и не хочет войны. Она предает нас. Россия одна должна быть спасительницей Европы.",text:"Наш благодетель знает свое высокое призвание и будет верен ему. Вот одно, во что я верю."},{id:10,datePublish:1601792744,video:"https://www.youtube.com/embed/rJbuc-LxpV8",img:"images/master-list-card1.jpg",title:"Мы одни должны искупить кровь праведника. ",text:"Нашему доброму и чудному государю предстоит величайшая роль в мире, и он так добродетелен и хорош, что Бог не оставит его,"},{id:11,datePublish:1554186344,video:"https://www.youtube.com/embed/p-5mhOgSwaY",img:"images/master-list-card1.jpg",title:"Она отказалась очистить Мальту.",text:"Англия с своим коммерческим духом не поймет и не может понять всю высоту души императора Александра."},{id:12,datePublish:1618208744,video:"https://www.youtube.com/embed/I-AVYrL1M2w",img:"images/master-list-card1.jpg",title:"Что они сказали Новосильцеву?",text:"Она хочет видеть, ищет заднюю мысль наших действий."}],a=[{id:1,img:"images/master-list-card-past1.jpg",date:"21.12.2020",time:"18:00 МСК",title:"Декор новогоднего носка",text:"Из самых обычных шерстяных ниток можно создавать оригинальные праздничные украшения и новогодние елочные игрушки. Нитки — это безопасный материал, с которым смогут работать даже дошкольники. Мы покажем вам несколько способов изготовления игрушек из шерстяных ниток.",contentTitle:"Что нам понадобится?",contentSubtitle:"Для изготовления елочных игрушек из шерстяных ниток нам понадобятся простые подручные материалы:",contentList:["нитки","шерстяные нити","клей и картон","проволока","фурнитура для декора","шнуры и ленты","блестки и снежный спрей"]},{id:2,img:"images/master-list-card-past2.jpg",date:"10.11.1991",time:"14:00 МСК",title:"развал ССР",text:"процессы системной дезинтеграции в социальной структуре, народном хозяйстве",contentTitle:"Причины распада",contentSubtitle:"В настоящее время нет единой оценки и исчерпывающего анализа причин, приведших к распаду СССР. Среди многочисленных факторов, повлиявших на этот процесс, называют следующие:",contentList:["крах прежней идеологии","распространение новых идеологических ценностей","ослабление союзной власти","неблагоприятная динамика цен на нефть","государственная цензура,"]},{id:3,img:"images/master-list-card-past3.jpg",date:"05.03.2055",time:"18:00 МСК",title:"Киберпанк",text:"Из самых обычных шерстяных ниток можно создавать оригинальные праздничные украшения и новогодние елочные игрушки. Нитки — это безопасный материал, с которым смогут работать даже дошкольники. Мы покажем вам несколько способов изготовления игрушек из шерстяных ниток.",contentTitle:"Что нам понадобится?",contentSubtitle:"Для изготовления елочных игрушек из шерстяных ниток нам понадобятся простые подручные материалы:",contentList:["нитки","шерстяные нити","клей и картон","проволока","фурнитура для декора","шнуры и ленты","блестки и снежный спрей"]},{id:4,img:"images/master-list-card-past1.jpg",date:"05.03.2055",time:"18:00 МСК",title:"Киберпанк",text:"Из самых обычных шерстяных ниток можно создавать оригинальные праздничные украшения и новогодние елочные игрушки. Нитки — это безопасный материал, с которым смогут работать даже дошкольники. Мы покажем вам несколько способов изготовления игрушек из шерстяных ниток.",contentTitle:"Что нам понадобится?",contentSubtitle:"Для изготовления елочных игрушек из шерстяных ниток нам понадобятся простые подручные материалы:",contentList:["нитки","шерстяные нити","клей и картон","проволока","фурнитура для декора","шнуры и ленты","блестки и снежный спрей"]},{id:5,img:"images/master-list-card-past2.jpg",date:"10.11.1991",time:"14:00 МСК",title:"развал ССР",text:"процессы системной дезинтеграции в социальной структуре, народном хозяйстве",contentTitle:"Причины распада",contentSubtitle:"В настоящее время нет единой оценки и исчерпывающего анализа причин, приведших к распаду СССР. Среди многочисленных факторов, повлиявших на этот процесс, называют следующие:",contentList:["крах прежней идеологии","распространение новых идеологических ценностей","ослабление союзной власти","неблагоприятная динамика цен на нефть","государственная цензура,"]},{id:6,img:"images/master-list-card-past3.jpg",date:"05.03.2055",time:"18:00 МСК",title:"Киберпанк",text:"Из самых обычных шерстяных ниток можно создавать оригинальные праздничные украшения и новогодние елочные игрушки. Нитки — это безопасный материал, с которым смогут работать даже дошкольники. Мы покажем вам несколько способов изготовления игрушек из шерстяных ниток.",contentTitle:"Что нам понадобится?",contentSubtitle:"Для изготовления елочных игрушек из шерстяных ниток нам понадобятся простые подручные материалы:",contentList:["нитки","шерстяные нити","клей и картон","проволока","фурнитура для декора","шнуры и ленты","блестки и снежный спрей"]}],l=$(".master-list__items--actuals"),n=$(".master-list__show-more--actuals"),c=0,d=$(".master-list__items--past"),o=$(".master-list__show-more--past"),r=0,m=$(".select__dropdown .select__item");function p(t,e=!1){if(e&&(l.html(""),c=0),s.length){let e=c+t;for(let t=c;t<e;t++){let e=s[t].datePublish;var i=new Date(1e3*e),a=i.getFullYear(),d=i.getMonth(),o=i.getDate(),r=i.getHours(),m="0"+i.getMinutes(),p="0"+i.getSeconds(),u=a+"-"+d+"-"+o+"_"+r+":"+m.substr(-2)+":"+p.substr(-2);let n=`\n        <div class="master-list__item">\n          <div class="actual-card" data-video="${s[t].video}">\n            <a href="#" class="actual-card__img">\n              <img src="${s[t].img}">\n            </a>\n            <div class="actual-card__text">${u}</div>\n            <div class="actual-card__title">${s[t].title}</div>\n            <div class="actual-card__text">${s[t].text}</div>\n          </div>\n        </div>`;l.append(n)}c+=t}c>=s.length?n.hide():n.show()}function u(t){if(a.length){let e=r+t;for(let t=r;t<e;t++){let e=`\n        <div class="master-list__item">\n          <div class="past-card" data-card-post-id="0">\n            <a href="#" class="past-card__img">\n              <img src="${a[t].img}">\n            </a>\n            <div class="past-card__info">\n              <span class="past-card__info-date">${a[t].date}</span>\n              <span class="past-card__info-time">${a[t].time}</span>\n            </div>\n            <div class="past-card__title">${a[t].title}</div>\n            <div class="past-card__text">${a[t].text}</div>\n            <div class="past-card__watch">\n              <a href="#" class="btn-more">Смотреть запись</a>\n            </div>\n          </div>\n        </div>`;d.append(e)}r+=t}r>=a.length&&o.hide()}function _(t){if("new"===t)s.sort((t,e)=>new Date(e.datePublish)-new Date(t.datePublish));else{if("old"!==t)return!1;s.sort((t,e)=>new Date(t.datePublish)-new Date(e.datePublish))}p(3,!0),v()}function v(){let t=$(".custom-popup"),e=$(".custom-popup__content"),i=$(".custom-popup__close"),s=$(".custom-popup__overlay");i.add(s).on("click",(function(){t.removeClass().addClass("custom-popup"),e.children().remove()}));let l=$(".actual-card"),n=$(".past-card");l.on("click",(function(i){i.preventDefault(),function(i,s){t.addClass(s);let a=`\n    <div class="video-proportion-16x9">\n      <iframe class="video-iframe" src="${i}" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\n    </div>`;e.html(a),t.addClass("active")}($(this).attr("data-video"),"custom-popup--video")})),n.on("click",(function(i){i.preventDefault(),function(i,s){t.addClass(s);let l=a[i].contentList,n="";for(let t=0;t<l.length;t++){n+=`<li>${l[t]}</li>`}let c=`\n    <div class="popup-card">\n      <a href="#" class="popup-card__img">\n        <img src="images/master-list-card-past2.jpg">\n      </a>\n      <div class="popup-card__body">\n        <div class="popup-card__info">\n          <span class="popup-card__info-date">${a[i].date}</span>\n          <span class="popup-card__info-time">${a[i].time}</span>\n        </div>\n        <div class="popup-card__title">${a[i].title}</div>\n        <div class="popup-card__text">${a[i].text}</div>\n        <div class="popup-card__content">\n          <div class="popup-card__content-title">${a[i].contentTitle}</div>\n          <div class="popup-card__content-subtitle">${a[i].contentSubtitle}</div>\n          <ul class="popup-card__content-list">${n}</ul>\n        </div>\n        <div class="popup-card__watch">\n          <a href="#" class="btn-more">Смотреть запись</a>\n        </div>\n      </div>\n    </div>`;e.html(c),t.addClass("active")}($(this).attr("data-card-post-id"),"custom-popup--article")}))}p(3),n.on("click",(function(t){t.preventDefault(),p(3)})),u(3),o.on("click",(function(t){t.preventDefault(),u(3)})),m.on("click",(function(){"new"===$(this).attr("data-select-value")?_("new"):"old"===$(this).attr("data-select-value")&&_("old")})),v()}));